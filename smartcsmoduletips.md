# 本ページはメンテナンス中です。

[↑目次に戻る](./README.md)
<br>
# トラブルシューティング (SmartCS x Ansible)

本ページでは、Ansibleのエラーメッセージが出力されず、SmartCS x Ansibleの連携で期待する実行結果とならない場合の対処を説明しています。  
実行結果、想定される原因および対処方法について記載しています。  
Playbook実行時にAnsibleのエラーメッセージが出力される場合の対処方法は、[トラブルシューティング（Ansible）](./troubleshooting.md)を参照してください。  

`注意事項`  
記載されている対処方法により期待するオペレーションを必ず実現できるとは限りません。  
実現のための参考情報としてご活用いただけますと幸いです。  

<br>

## 目次
- [sendchar や recvchar が想定とは異なり正しく動作しない場合があります。どのように回避すれば良いでしょうか。](./smartcsmoduletips.md#1-)

<br>
<br>

## 1. sendchar や recvchar が想定とは異なり正しく動作しない場合があります。どのように回避すれば良いでしょうか。
#### 想定原因
ターゲット機器のコンソールが既にログイン後の状態となっているなど、Playbook開始時点で想定された状態となっていない可能性があります。  

#### 対処方法
コンソール経由での操作となるため、Playbook実行時のコンソールの状態は、ログイン前、ログイン後、コンフィグレーションモード移行後など、前回の操作内容により様々なケースが想定されます。  
smartcs_tty_command モジュールを使用した Playbook を作成する際は、最後に exit コマンドなどを実行してログアウト状態で終了する様な構成にすることを推奨いたします。  

また、smartcs_tty_command モジュールには、sendchar の送信を開始する前にコンソールの状態をチェックする機能(プレチェック機能)があります。Playbook開始時に想定したコンソール状態になっていない場合、sendchar を送信せずに終了する、コンソールを期待した状態に戻すために exit コマンドを実行する、などの動作を指定する事が可能です。  


[↑目次に戻る](./README.md)
